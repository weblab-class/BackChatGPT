import nodebox_linguistics_extended as nle
import random
import os
import openai
import wandb


nouns = nle.basic.nouns
verbs = nle.basic.verbs
adjs = nle.basic.adjectives

prompts = []


def generate_prompts(num_prompts):
    p = []
    for i in range(num_prompts):
        noun_1 = random.choice(nouns)
        noun_2 = random.choice(nouns)
        noun_3 = random.choice(nouns)
        verb_1 = random.choice(verbs)
        verb_2 = random.choice(verbs)
        verb_3 = random.choice(verbs)
        adj_1 = random.choice(adjs)
        adj_2 = random.choice(adjs)
        adj_3 = random.choice(adjs)

        prompt = f"write a story 50 word about a {adj_1} {noun_1} who {verb_1} {adj_2} {noun_2} and {verb_3} with {adj_3} {noun_3}, without using the words {adj_1}, {adj_2}, {adj_3}, {noun_1}, {noun_2}, {noun_3}, {verb_1}, {verb_2}, {verb_3}"
        p.append(prompt)
    return p


openai.api_key = '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'

gpt_prompt = "write me 100 word story about a plane, a king, and a muppet without using the words plane, king, and muppet"
# gpt_prompt = generate_prompts(1)[0]
response = openai.Completion.create(
    model="text-davinci-003", prompt=gpt_prompt, temperature=0, max_tokens=100)


print(response['choices'][0]['text'])
